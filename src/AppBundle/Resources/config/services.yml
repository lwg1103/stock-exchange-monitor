imports:
    - { resource: "@AppBundle/Resources/config/use_case.yml" }

services:
  app.loader.report_loader:
    class: Report\Loader\ReportLoader
    arguments:
      - '@doctrine.orm.entity_manager'

  app.reader.form_report_reader:
    class: Report\Reader\FormReportReader

  app.utils.report_parser:
    class: AppBundle\Utils\ReportParser
    arguments:
      - '@doctrine.orm.entity_manager'

  app.utils.report_parser_bankier:
    class: AppBundle\Utils\ReportParser\Bankier\BankierReportParser
    arguments:
      - '@doctrine.orm.entity_manager'    

  app.utils.report_parser_biznesradar:
    class: AppBundle\Utils\ReportParser\Biznesradar\BiznesradarReportParser
    arguments:
      - '@doctrine.orm.entity_manager'

  app.downloader.bossa_downloader:
    class: Price\Downloader\BossaDownloader

  app.translator.bossa_market_id_translator:
    class: Company\Translator\BossaMarketIdTranslator

  app.filter.bossa_filter:
    class: Price\Filter\BossaFilter
    arguments:
      - '@app.translator.bossa_market_id_translator'

  app.parser.bossa_parser:
    class: Price\Parser\BossaParser
    arguments:
      - "@=service('doctrine.orm.entity_manager').getRepository('CompanyContext:Company')"
      - '@app.translator.bossa_market_id_translator'
